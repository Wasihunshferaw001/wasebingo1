<!DOCTYPE html>
<html>
<head>
    <title>WASE BINGO</title>
    <style>
        body {
            font-family: new times, sans-serif;
            text-align: center;
            background-image: url("https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Bingo-m%C3%A9dia.jpg/640px-Bingo-m%C3%A9dia.jpg");
      background-size: cover;
            padding: 20px;
            color: #fff;
        }
        h1HDBDB {
            color: #ff4d4d;
            text-shadow: 2px 2px 4px #000;
        }
        .game-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        .bingo-card {
            display: none; /* Cards hidden by default */
            margin: 10px;
            border: 3px solid #800000;
            border-radius: 10px;
            padding: 10px;
            background-color: #500000;
            box-shadow: 0 4px 8px rgba(0,0,0,0.5);
        }
        .bingo-card.visible {
            display: inline-block; /* Show only visible cards */
        }
        table {
            border-collapse: collapse;
            margin: 0 auto;
        }
        td {
            width: 50px;
            height: 50px;
            border: 2px solid #800000;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            background-color: #400000;
            color: #fff;
            transition: all 0.3s;
        }
        td:hover {
            background-color: #600000;
        }
        td.marked {
            background-color: #ff0000;
            color: #fff;
            text-decoration: line-through;
        }
        .bingo-header {
            background-color: #800000;
            color: #fff;
            font-weight: bold;
            text-transform: uppercase;
        }
        button {
            background-color: #800000;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #a00000;
        }
        .controls {
            margin: 20px 0;
        }
        .called-numbers {
            background-color: #400000;
            border: 2px solid #800000;
            border-radius: 10px;
            padding: 15px;
            margin: 20px auto;
            max-width: 600px;
            min-height: 60px;
        }
        .called-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background-color: #800000;
            border-radius: 50%;
            line-height: 40px;
            margin: 5px;
            font-weight: bold;
        }
        .current-number {
            font-size: 24px;
            font-weight: bold;
            color: #ff4d4d;
            margin: 10px 0;
        }
        .win-message {
            font-size: 24px;
            font-weight: bold;
            color: #ff4d4d;
            text-shadow: 2px 2px 4px #000;
            margin: 20px 0;
        }
        .card-controls {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Bingo Game - Add Cards One by One</h1>
    
    <div class="controls">
        <button onclick="generateCards()">Generate Cards</button>
        <button onclick="callNextNumber()">Call Number</button>
        <button onclick="resetGame()">Reset Game</button>
    </div>
    
    <div class="current-number" id="currentNumber">Current Number: -</div>
    
    <div class="called-numbers" id="calledNumbers">
        <div>Called Numbers:</div>
    </div>
    
    <div class="game-container" id="gameContainer">
        <!-- Cards will be generated here -->
    </div>
    
    <div class="card-controls">
        <button onclick="addCard()">Add Card (+1)</button>
        <button onclick="hideAllCards()">Hide All Cards</button>
    </div>
    
    <div class="win-message" id="winMessage"></div>

    <script>
        // Game variables
        let calledNumbers = [];
        let availableNumbers = [];
        let currentNumber = null;
        let gameActive = true;
        let totalCards = 0;
        let visibleCards = 0;
        
        // Initialize the game
        function initGame() {
            calledNumbers = [];
            availableNumbers = Array.from({length: 75}, (_, i) => i + 1);
            currentNumber = null;
            gameActive = true;
            totalCards = 0;
            visibleCards = 0;
            document.getElementById('gameContainer').innerHTML = '';
            document.getElementById('winMessage').textContent = '';
            document.getElementById('currentNumber').textContent = 'Current Number: -';
            document.getElementById('calledNumbers').innerHTML = '<div>Called Numbers:</div>';
        }
        
        // Generate initial cards (hidden)
        function generateCards() {
            initGame();
            const gameContainer = document.getElementById('gameContainer');
            
            // Generate 4 cards but keep them hidden
            for (let i = 0; i < 4; i++) {
                gameContainer.innerHTML += `
                    <div class="bingo-card" id="card${i}">
                        <table>
                            <tr>
                                <td class="bingo-header">B</td>
                                <td class="bingo-header">I</td>
                                <td class="bingo-header">N</td>
                                <td class="bingo-header">G</td>
                                <td class="bingo-header">O</td>
                            </tr>
                            ${generateCardRows()}
                        </table>
                    </div>
                `;
                totalCards++;
            }
            
            // Show first card by default
            if (totalCards > 0) {
                document.getElementById('card0').classList.add('visible');
                visibleCards = 1;
            }
            
            // Mark FREE space
            document.querySelectorAll('table tr:nth-child(4) td:nth-child(3)').forEach(cell => {
                if (cell.textContent === 'FREE') {
                    cell.classList.add('marked');
                }
            });
        }
        
        // Add one more card
        function addCard() {
            if (visibleCards >= totalCards && totalCards >= 4) {
                alert("Maximum 4 cards allowed!");
                return;
            }
            
            if (visibleCards >= totalCards) {
                // Need to generate more cards
                const gameContainer = document.getElementById('gameContainer');
                const newCardId = totalCards;
                
                gameContainer.innerHTML += `
                    <div class="bingo-card visible" id="card${newCardId}">
                        <table>
                            <tr>
                                <td class="bingo-header">B</td>
                                <td class="bingo-header">I</td>
                                <td class="bingo-header">N</td>
                                <td class="bingo-header">G</td>
                                <td class="bingo-header">O</td>
                            </tr>
                            ${generateCardRows()}
                        </table>
                    </div>
                `;
                totalCards++;
                visibleCards++;
            } else {
                // Show next hidden card
                document.getElementById(`card${visibleCards}`).classList.add('visible');
                visibleCards++;
            }
            
            // Mark FREE space on new card
            document.querySelectorAll('table tr:nth-child(4) td:nth-child(3)').forEach(cell => {
                if (cell.textContent === 'FREE') {
                    cell.classList.add('marked');
                }
            });
        }
        
        // Hide all cards
        function hideAllCards() {
            document.querySelectorAll('.bingo-card').forEach(card => {
                card.classList.remove('visible');
            });
            visibleCards = 0;
        }
        
        // Generate card rows
        function generateCardRows() {
            const columns = {
                'B': [1, 15],
                'I': [16, 30],
                'N': [31, 45],
                'G': [46, 60],
                'O': [61, 75]
            };
            
            let rowsHTML = '';
            
            for (let r = 0; r < 5; r++) {
                rowsHTML += '<tr>';
                for (let c = 0; c < 5; c++) {
                    if (r === 2 && c === 2) {
                        rowsHTML += '<td>FREE</td>';
                        continue;
                    }
                    
                    const columnLetter = ['B', 'I', 'N', 'G', 'O'][c];
                    const [min, max] = columns[columnLetter];
                    let randomNum = Math.floor(Math.random() * (max - min + 1)) + min;
                    
                    rowsHTML += `<td>${randomNum}</td>`;
                }
                rowsHTML += '</tr>';
            }
            
            return rowsHTML;
        }
        
        // Call the next number
        function callNextNumber() {
            if (!gameActive || availableNumbers.length === 0) return;
            
            const randomIndex = Math.floor(Math.random() * availableNumbers.length);
            currentNumber = availableNumbers[randomIndex];
            availableNumbers.splice(randomIndex, 1);
            calledNumbers.push(currentNumber);
            
            document.getElementById('currentNumber').textContent = `Current Number: ${currentNumber}`;
            
            // Add to called numbers display
            const calledNumbersDiv = document.getElementById('calledNumbers');
            const numberDiv = document.createElement('div');
            numberDiv.className = 'called-number';
            numberDiv.textContent = currentNumber;
            calledNumbersDiv.appendChild(numberDiv);
            
            // Auto-scroll called numbers
            calledNumbersDiv.scrollLeft = calledNumbersDiv.scrollWidth;
        }
        
        // Check for Bingo
        function checkBingo() {
            if (!gameActive) return;
            
            const cards = document.querySelectorAll('.bingo-card.visible');
            
            cards.forEach((card, cardIndex) => {
                const table = card.querySelector('table');
                const rows = table.rows;
                let bingo = false;
                
                // Check rows (skip header)
                for (let r = 1; r < rows.length; r++) {
                    let rowMarked = true;
                    for (let c = 0; c < rows[r].cells.length; c++) {
                        if (r === 3 && c === 2) continue; // Skip FREE space
                        if (!rows[r].cells[c].classList.contains('marked')) {
                            rowMarked = false;
                            break;
                        }
                    }
                    if (rowMarked) bingo = true;
                }
                
                // Check columns
                if (!bingo) {
                    for (let c = 0; c < 5; c++) {
                        let colMarked = true;
                        for (let r = 1; r < rows.length; r++) {
                            if (r === 3 && c === 2) continue; // Skip FREE space
                            if (!rows[r].cells[c].classList.contains('marked')) {
                                colMarked = false;
                                break;
                            }
                        }
                        if (colMarked) bingo = true;
                    }
                }
                
                // Check diagonals
                if (!bingo) {
                    // Top-left to bottom-right
                    let diag1Marked = true;
                    for (let i = 0; i < 5; i++) {
                        if (i === 2 && i === 2) continue; // Skip FREE space
                        if (!rows[i+1].cells[i].classList.contains('marked')) {
                            diag1Marked = false;
                            break;
                        }
                    }
                    
                    // Top-right to bottom-left
                    let diag2Marked = true;
                    for (let i = 0; i < 5; i++) {
                        if (i === 2 && (4-i) === 2) continue; // Skip FREE space
                        if (!rows[i+1].cells[4-i].classList.contains('marked')) {
                            diag2Marked = false;
                            break;
                        }
                    }
                    
                    bingo = diag1Marked || diag2Marked;
                }
                
                if (bingo) {
                    gameActive = false;
                    document.getElementById('winMessage').textContent = `BINGO! Card ${cardIndex+1} wins!`;
                    highlightWinningCard(card);
                }
            });
        }
        
        // Highlight the winning card
        function highlightWinningCard(card) {
            card.style.boxShadow = '0 0 20px #ff0000';
            card.style.transform = 'scale(1.05)';
            card.style.transition = 'all 0.5s';
        }
        
        // Reset the entire game
        function resetGame() {
            initGame();
        }
        
        // Initialize the game when page loads
        window.onload = function() {
            // Add click event to mark numbers
            document.addEventListener('click', function(e) {
                if (e.target.tagName === 'TD' && !e.target.classList.contains('bingo-header') && e.target.textContent !== 'FREE') {
                    if (gameActive && currentNumber && e.target.textContent == currentNumber) {
                        e.target.classList.add('marked');
                        checkBingo();
                    }
                }
            });
            
            // Generate initial cards
            generateCards();
        };
    </script>
</body>
</html>